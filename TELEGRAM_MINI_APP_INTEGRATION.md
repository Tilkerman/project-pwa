# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PWA –≤ Telegram Mini Apps

## üì± –ß—Ç–æ —Ç–∞–∫–æ–µ Telegram Mini Apps?

Telegram Mini Apps (—Ä–∞–Ω–µ–µ Web Apps) - —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è **–ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ Telegram** –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ, –∏ –≤–∞—à–µ PWA –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ Telegram.

## ‚úÖ –•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

**–í–∞—à–µ PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ë–ï–ó –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–¥–µ–ª–∫–∏!**

### –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –í–µ—Å—å –∫–æ–¥ Vue 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏
- ‚úÖ IndexedDB –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –í—Å–µ —Å—Ç–∏–ª–∏ –∏ UI
- ‚úÖ –£–∂–µ –µ—Å—Ç—å Telegram –±–æ—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
1. Telegram Web App SDK (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram)
2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ Telegram
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Telegram API (–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞ —Å –∫–Ω–æ–ø–∫–æ–π –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Mini App

## üöÄ –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Telegram Web App SDK

```bash
npm install @twa-dev/sdk
```

### –®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ –≤ Telegram

–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ Telegram:

```typescript
// src/utils/telegramMiniApp.ts
import { initDataRaw, initData, viewport } from '@twa-dev/sdk'

export function isTelegramMiniApp(): boolean {
  return typeof window !== 'undefined' && 
         window.Telegram?.WebApp !== undefined
}

export function getTelegramUser() {
  if (!isTelegramMiniApp()) return null
  return initData?.user || null
}
```

### –®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ main.ts

```typescript
// src/main.ts
import { initDataRaw, initData, viewport } from '@twa-dev/sdk'

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Mini App
if (window.Telegram?.WebApp) {
  const tg = window.Telegram.WebApp
  tg.ready()
  tg.expand() // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
  
  // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const user = tg.initDataUnsafe?.user
  console.log('Telegram user:', user)
}
```

### –®–∞–≥ 4: –ê–¥–∞–ø—Ç–∞—Ü–∏—è UI –ø–æ–¥ Telegram

Telegram –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ—é —Ç–µ–º—É, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```typescript
// –ü–æ–ª—É—á–∞–µ–º —Ç–µ–º—É Telegram
const theme = window.Telegram?.WebApp?.colorScheme // 'light' –∏–ª–∏ 'dark'
const bgColor = window.Telegram?.WebApp?.backgroundColor
```

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

–í –≤–∞—à–µ–º Telegram –±–æ—Ç–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App:

```typescript
// –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather –∏–ª–∏ –∫–æ–¥:
// 1. –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather –≤ Telegram
// 2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
// 3. –í—ã–±–µ—Ä–∏—Ç–µ "Bot Settings" ‚Üí "Menu Button"
// 4. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: https://tilkerman.github.io/project-pwa/
```

–ò–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ —á–µ—Ä–µ–∑ Bot API:

```typescript
// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é —á–µ—Ä–µ–∑ Bot API
const setMenuButton = async () => {
  await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/setChatMenuButton`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      menu_button: {
        type: 'web_app',
        text: '–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
        web_app: {
          url: 'https://tilkerman.github.io/project-pwa/'
        }
      }
    })
  })
}
```

## üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤ –∫–æ–¥–µ

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É Telegram Mini App** (1 —Ñ–∞–π–ª)
2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å SDK** (–¥–æ–±–∞–≤–∏—Ç—å –≤ main.ts, ~10 —Å—Ç—Ä–æ–∫)
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

```typescript
// src/utils/telegramMiniApp.ts
import { initDataRaw, initData, viewport } from '@twa-dev/sdk'

export function initTelegramMiniApp() {
  if (typeof window === 'undefined') return null
  
  const tg = window.Telegram?.WebApp
  if (!tg) return null
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  tg.ready()
  tg.expand()
  
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram
  return {
    user: tg.initDataUnsafe?.user,
    theme: tg.colorScheme,
    backgroundColor: tg.backgroundColor,
    close: () => tg.close(),
    showAlert: (message: string) => tg.showAlert(message),
    vibrate: () => tg.HapticFeedback?.impactOccurred('medium'),
  }
}
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

1. **–£–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –ø—Ä—è–º–æ –≤ Telegram
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - Telegram –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–ù–∞—Ç–∏–≤–Ω—ã–π –≤–∏–¥** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —á–∞—Å—Ç—å Telegram
4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
   - –í–∏–±—Ä–∞—Ü–∏—è (Haptic Feedback)
   - –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
   - –ü–ª–∞—Ç–µ–∂–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ —Å –±–æ—Ç–æ–º

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - Mini Apps —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ HTTPS (—É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å)
2. **–î–æ–º–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –±–µ–ª–æ–º —Å–ø–∏—Å–∫–µ** - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞
3. **CORS** - Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ initData, –Ω—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ª—É—á—à–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º Telegram, –∞ –Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üîß –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —è –º–æ–≥—É:
1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SDK
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É Telegram Mini App
3. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å SDK –≤ main.ts
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API
5. ‚úÖ –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É –ø–æ–¥ Telegram
6. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç–∞ —Å –∫–Ω–æ–ø–∫–æ–π –º–µ–Ω—é

**–í—Ä–µ–º—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: ~30-60 –º–∏–Ω—É—Ç**

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Telegram Mini Apps Docs](https://core.telegram.org/bots/webapps)
- [@twa-dev/sdk GitHub](https://github.com/twa-dev/sdk)
- [Telegram Bot API](https://core.telegram.org/bots/api)

## ‚ùì –í–æ–ø—Ä–æ—Å—ã

**Q: –ù—É–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?**  
A: –ù–µ—Ç! –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å SDK –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

**Q: –ë—É–¥–µ—Ç –ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–Ω–µ Telegram?**  
A: –î–∞! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –∏ –≤ Telegram. –ü—Ä–æ—Å—Ç–æ –≤ Telegram –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

**Q: –ù—É–∂–µ–Ω –ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–æ—Ç?**  
A: –ù–µ—Ç! –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –±–æ—Ç–∞, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –º–µ–Ω—é.

**Q: –°–∫–æ–ª—å–∫–æ —ç—Ç–æ –∑–∞–π–º–µ—Ç –≤—Ä–µ–º–µ–Ω–∏?**  
A: –ë–∞–∑–æ–≤—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∑–∞ 30-60 –º–∏–Ω—É—Ç.

